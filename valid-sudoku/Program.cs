public class Solution
{
    public static bool IsValidSudoku(char[][] board)
    {
        // rule 1
        for (int i = 0; i < 9; i++)
        {
            int[] count = new int[9];
            for (int j = 0; j < 9; j++)
            {
                if (board[i][j] == '.') continue;
                int c = ++count[board[i][j] - '1'];
                if (c > 1) return false;
            }
        }

        // rule 2
        for (int i = 0; i < 9; i++)
        {
            int[] count = new int[9];
            for (int j = 0; j < 9; j++)
            {
                if (board[j][i] == '.') continue;
                int c = ++count[board[j][i] - '1'];
                if (c > 1) return false;
            }
        }

        // rule 3
        int u = 0, v = 0;
        for (int k = 0; k < 9; k++)
        {
            int[] count = new int[9];
            for (int i = 0; i < 3; i++)
            {
                for (int j = 0; j < 3; j++)
                {
                    if (board[u * 3 + i][v * 3 + j] == '.') continue;
                    int c = ++count[board[u * 3 + i][v * 3 + j] - '1'];
                    if (c > 1) return false;
                }
            }
            v++;
            if (v >= 3)
            {
                v = 0;
                u++;
            }
        }

        return true;
    }

    public static void Main(string[] args)
    {
        // IsValidSudoku(board);
    }
    // board = 
    // [["1","2",".",".","3",".",".",".","."],
    // ["4",".",".","5",".",".",".",".","."],
    // [".","9","1",".",".",".",".",".","3"],
    // ["5",".",".",".","6",".",".",".","4"],
    // [".",".",".","8",".","3",".",".","5"],
    // ["7",".",".",".","2",".",".",".","6"],
    // [".",".",".",".",".",".","2",".","."],
    // [".",".",".","4","1","9",".",".","8"],
    // [".",".",".",".","8",".",".","7","9"]]

    // Output: false
    // board = 
    // [["1","2",".",".","3",".",".",".","."],
    // ["4",".",".","5",".",".",".",".","."],
    // [".","9","8",".",".",".",".",".","3"],
    // ["5",".",".",".","6",".",".",".","4"],
    // [".",".",".","8",".","3",".",".","5"],
    // ["7",".",".",".","2",".",".",".","6"],
    // [".",".",".",".",".",".","2",".","."],
    // [".",".",".","4","1","9",".",".","8"],
    // [".",".",".",".","8",".",".","7","9"]]

    // Output: true

}
 